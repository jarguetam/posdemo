<div class="card p-2">
    <h2 class="text-center mb-3">Dispositivos Bluetooth</h2>

    <p-table [value]="devices" [tableStyle]="{ 'width': '100%' }" styleClass="p-datatable-sm" responsiveLayout="stack"
        [breakpoint]="'960px'">
        <ng-template pTemplate="header">
            <tr>
                <th>Dispositivo</th>
                <th>Acci√≥n</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-device>
            <tr>
                <td>
                    <span class="font-bold">{{ device.name || 'Dispositivo desconocido' }}</span>
                    <br>
                    <small class="text-muted">ID: {{ device.deviceId }}</small>
                </td>
                <td>
                    <p-button label="Conectar" icon="pi pi-link" (onClick)="connectToDevice(device)"
                        styleClass="p-button-sm"></p-button>
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
            <tr>
                <td colspan="2" class="text-center p-4">
                    No se encontraron dispositivos. Intente escanear nuevamente.
                </td>
            </tr>
        </ng-template>
    </p-table>

    <div class="mt-3 text-center">
        <p-button label="Buscar impresoras" icon="pi pi-search" (onClick)="scanForDevices()"
            [style]="{'width': '100%'}"></p-button>
    </div>
</div>
